sudo: required

language: cpp

services:
  - docker

before_install:
- docker pull schubertkonstantin/cern_root:v5-34-23

script:
- docker run --name raw_container schubertkonstantin/cern_root:v5-34-23 /bin/bash -c "mkdir /code"
- docker cp  . raw_container:/code 
- docker commit raw_container image_with_files
- docker run image_with_files /bin/bash -c "mkdir /code/build; cd /code/build; cmake ..; make; make install"
